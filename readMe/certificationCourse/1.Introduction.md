# Introduction to Course
## You will learn how to ...
- Develop Spring Boot applications
- Leverage Hibernate / JPA for database access
- Develop a REST API using Spring Boot
- Create a Spring MVC app with Spring Boot
- Connect Spring Boot apps to a Database for CRUD development
- Apply Spring Security to control application access

## [COURCE SOURCE CODE](https://github.com/darbyluv2code/spring-boot-3-spring-6-hibernate-for-beginners)
## Spring Boot Solution
- Make it easier to get started with Spring development 
- Minimise the amount of manual configuration 
- Perform autoconfiguration based on props files and JAR classpath 
- Help to resolve dependency conflicts (Maven or Grackle)
- Provide an embedded HTTP server so you can get started quickly
## Spring and Spring boot relation
- Spring Boot uses Spring behind the scenes 
- Spring Boot simply makes it easier to use Spring

## Spring Initializer
- http://start.spring.io
- Quickly create a starter Spring Boot project
- Select your dependencies
- Creates a Maven/ Gradle project
- Import the project into your IDE
- Eclipse, Intelli], NetBeans etc...

## Spring Boot Embedded Server
-  Provide an embedded HTTP server so you can get started quickly
-  Tomcat, Jetty, Undertow, ...
-  No need to install a server separately mycoolapp.jar mycode
- JAR file includes your application code and includes the server

## Running Spring boot apps
- Spring boot apps can be run standalone (Includes embeded server)
- Run the spring boot app from the IDE or command line
- In command line - > java -jar mycoolapp.jar
## Deploying Spring Boot apps
- Spring boot apps can also be deployed in the traditional way
- Deploy AWR file to an external server : Tomcat, JBoss, WebSphere etc...

- **Q: Does spring boot replaces spring MVC, Spring REST etc. ?
- No, Instead, spring boot actually uses those technologies
  - Spring MVC, Spring REST, Spring Core, Spring AOP, Spring JPA, Spring Security etc.

## Quick Word on Maven
- When building your Java project, you may need additional JAR files.
- For example: Spring, Hibernate, Commons Logging, JSON etc... 
- One approach is to download the JAR files from each project website. 
- Manually add the JAR files to your build path / class path.
## Maven Solution
-  Tell Maven the projects you are working with (dependencies)
-  Spring, Hibernate etc....
-  Maven will go out and download the JAR files for those projects for you
-  And Maven will make those JAR files available during compile/ run
- Think of Maven as your friendly helper / personal shopper :-)

## Development Process
- Step-By-Step
1. Configure our project at Spring Initialize website http://start.spring.io
2. Download the zip file 
3. Unzip the file
4. Import the project into our IDE

## REST controller
- Let's create a very simple REST Controller
```
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
@RestController
public class FunRestController {
    // expose /hello return Hello Spring Boot
    @GetMapping("/hello")
    public String sayHello() {
        return "Hello Spring Boot";
    }
}
```
- Run your spring boot application
- On web browser type - http://localhost:8080/hello
- It will print ```Hello Spring Boot```  on web browser

## What Are Spring "Projects"
-  Additional Spring modules built-on top of the core Spring Framework
-  Only use what you need ...
-  Spring Cloud, Spring Data
-  Spring Batch, Spring Security
-  Spring Web Services, Spring LDAP
-  others ...
- You can go to spring.io/projects
- See the list of projects and learn more about these projects
## Spring Boot and Maven
-  When you generate projects using Spring Initializr: start.spring.io
-  It can generate a Maven project for you
-  In this section, we will learn the basics of Maven 
  - Viewing dependencies in the Maven pom.xml file 
  - Spring Boot Starters for Maven
## What is MAVEN
- Maven is a Project management tool.
- Most popular use of maven is for build management and dependencies.
## What problems does maven solve
- When building your Java project, you may need additional JAR files
- For example: Spring, Hibernate, Commons Logging, JSON etc...
- One approach is to download the JAR files from each project website
-  Manually add the JAR files to your build path / classpath

## Maven Solution
-  Tell Maven the projects you are working with (dependencies)
-  Spring, Hibernate etc ....
-  Maven will go out and download the JAR files for those projects for you
-  And Maven will make those JAR files available during compile/ run
-  Think of Maven as your friendly helper / personal shopper :-)

## How Maven Works
- Project Config files
- Read Config File
- Check local repo
- If exists then it will not download the jar file
- If not exists then it will download and save it in local repository in your computer.

## Standard Directory Structure
-  Normally when you join a new project
-  Each development team dreams up their own directory structure
-  Not ideal for newcomers and not standardized
- Maven solves this problem by providing a standard directory structure.
## Directory Structure
```
my-app/
‚îú‚îÄ‚îÄ pom.xml                    # Maven configuration + dependencies
‚îú‚îÄ‚îÄ src/                       # Your Java source code
‚îÇ   ‚îú‚îÄ‚îÄ main/                  # Application source code & resources
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/              # Core Java code (packages, classes)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ resources/         # Property files, configs, static resources
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ webapp/            # Web files (JSP, HTML) - only in web modules
‚îÇ   ‚îî‚îÄ‚îÄ test/                  # Unit & integration tests
‚îÇ       ‚îú‚îÄ‚îÄ java/              # Test classes using JUnit/TestNG
‚îÇ       ‚îî‚îÄ‚îÄ resources/         # Test-related resource files
‚îú‚îÄ‚îÄ target/                    # Compiled bytecode & packaged output (generated)
‚îî‚îÄ‚îÄ .mvn/                      # Maven wrapper support folder (if used)
```
## Maven Key Concepts
## POM file - pom.xml
- Project Object model file: POM file
- Configuration dile for your project
- Basically your shopping list for maven.
- This file located in the root of your maven project.
- **POM file structure**
  - project metadata - Project name, version etc., O/P file type: JAR, WAR
  - dependencies - List of projects we depend on Spring, Hibernate etc...
  - plugins - Additional Custom tasks to run: generate JUnit test reports etc..
```
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                             http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    
    <!-- Project Metadata -->
    <groupId>com.example</groupId>
    <artifactId>myapp</artifactId>
    <version>1.0.0</version>

    <!-- Compiler Version -->
    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
    </properties>

    <!-- Dependencies -->
    <dependencies>
        <!-- JUnit test dependency example -->
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter</artifactId>
            <version>5.10.0</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <!-- Maven Build Plugins -->
    <build>
        <plugins>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>3.11.0</version>
                <configuration>
                    <source>17</source>
                    <target>17</target>
                </configuration>
            </plugin>
        </plugins>
    </build>

</project>
```
## üìå Maven Project Coordinates (Core 3)
- 	
- 
| Coordinate | Meaning                                       |
|------------|-----------------------------------------------|
| groupId    | Organization or domain that owns the project  |
| artifactId | Name of the project/module (artifact created) |
| version    | Release version of the artifact               |

## How to find dependency coordinates
- Option 1 : Visit project page (spring.io, hibernate.org etc.)
- Option 2 : Visit https://central.sonatype.com(easiest approach)
## Maven Wrapper files
-  ```mvnw``` allows you to run a Maven project
-  No need to have Maven installed or present on your path
-  If correct version of Maven is NOT found on your computer
-  Automatically downloads correct version and runs Maven
-  Two files are provided
  - mvnw.cmd for MS windows - > mvnw  (clean compile test)
  - mvnw.sh for Linus/Mac - $ ./mvnw (clean compile test)
	
## What Is application.properties?
- application.properties is a configuration file used in Spring Boot to manage project settings such as server behavior, database credentials, logging level, profiles, and more ‚Äî without changing the source code.
- It is located in: ```src/main/resources/application.properties```
- Common Configurations Stored Here
- **1. Server Settings***
```
server.port=8080                # Change default server port
   server.error.include-message=always
```   
- **2. Database Configuration**
```
   spring.datasource.url=jdbc:mysql://localhost:3306/mydb
   spring.datasource.username=root
   spring.datasource.password=1234
   spring.jpa.hibernate.ddl-auto=update   # update/create/validate
   spring.jpa.show-sql=true
```   
- **3. Logging Configuration**
```
   logging.level.root=INFO
   logging.level.org.hibernate.SQL=DEBUG
   logging.level.com.example=TRACE
```   
- **4. Spring Profiles (Environment Handling)**
- You can create multiple property files:
- application.properties =>	Default config
- application-dev.properties =>	Dev environment
- application-prod.properties => Production config
- Activate profile:
```
spring.profiles.active=dev
```
- Or run via command line:
```
java -jar myapp.jar --spring.profiles.active=prod
```
- **5. Custom User-Defined Properties**
- You can define your own keys:
```
app.name=MyApplication
app.version=1.0
```   
- Read in Java using @Value:
```
@Value("${app.name}")
   private String appName;
```   
- Or using @ConfigurationProperties:
```
   @ConfigurationProperties(prefix="app")
   public class AppConfig {
   private String name;
   private String version;
   }
```   
- **üìù Summary**
- application.properties	Stores global Spring Boot configuration
- Format	key=value pairs
- Purpose	Modify behavior without code changes
- Supports	Server, DB, logging, custom configs, profiles
## What is a Spring Boot Starter?
- Spring Boot Starter is a predefined set of dependencies bundled together to simplify project setup.
- Instead of manually adding multiple libraries, a starter adds everything required for a specific feature (Web, JPA, Security, etc.) with a single dependency.
```
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>
```
## Spring Boot Starter Parent
- SpringBoot provides a starter Parent
- This is a special starter that provides maven defaults
- 
```
‚Äπparent>
<groupId>org.springframework.boot</groupId>
‚ÄπartifactId‚Ä∫spring-boot-starter-parent</artifactId>
<version>3.0.0-RC1</version>
¬´relativePath/> <! -- lookup parent from repository --‚Ä∫ </parent>
```
## 
Benefits of the Spring Boot Starter Parent
-  Default Maven configuration: Java version, UTF-encoding etc
-  Dependency management
-  Use version on parent only
-  spring-boot-starter--  dependencies inherit version from parent
-  Default configuration of Spring Boot plugin

## Problem
- When running springboot application
  - If you make changes to your source code.
  - Then, you have to manually restart your application
## Solution : Spring Boot Dev Tools
- Spring-boot-devtools to the rescue.
- Automatically restarts your application when code is updated.
- Simply add the dependency to your POM file, 
- No need to write additional code
- For Intellij, need to set additional configuration
- Dependency
```
‚Äπdependency>
    <groupId>org. springframework.boot</groupId> 
    <artifactId>spring-boot-devtools</artifactId>
</dependency>
```
## IntelliJ Community Edition - DevTools
- Intelli] Community Edition does not support DevTools by default
- Select: Preferences > Build, Execution, Deployment > Compiler
- Check Box : Build Project Automatically
- IntelliJ IDEA ‚Üí Preferences ‚Üí Advanced Settings
- Scroll to Compiler section
- Enable:
- ‚ÄúAllow auto-make to start even if developed application is running‚Äù
- ‚ÄúBuild project automatically‚Äù

```
implementation 'org.springframework.boot:spring-boot-devtools'
```
```./gradlew clean build --refresh-dependencies
```

## Spring Boot Actuator
- Spring Boot Actuator is a production-ready feature of Spring Boot that allows you to monitor, manage, and inspect your application at runtime.
- **Problem**
- How can I monitor and manage my application?
- How can I check the application health?
- How can I access application metrics?

## Solution: Spring Boot Actuator
-  Exposes endpoints to monitor and manage your application
-  You easily get DevOps functionality out-of-the-box
-  Simply add the dependency to your POM file
-  REST endpoints are automatically added to your application
- No need to write additional code!
- You get new REST endpoints for FREE!
- Add the dependency in pom.xml or build.gradle file
```
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
```
- Gradle
```
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-actuator'
}
```
- application.properties
```
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always
```
üîπ Key Features of Spring Boot Actuator

| Feature          | Description                                                         |
|------------------|---------------------------------------------------------------------|
| Health Checks    | /actuator/health shows application health (DB, disk, custom checks) |
| Metrics          | /actuator/metrics exposes JVM, CPU, memory, and HTTP metrics        |
| Environment Info | /actuator/env displays environment properties and configuration     |
| Application Info | /actuator/info shows project metadata (version, build info)         |
| Logging Levels   | /actuator/loggers allows dynamic logging level changes              |
| Thread Dumps     | /actuator/threaddump helps debug live threads                       |

- For ```/actuator/info```, we can update our application.properties
```
info.app .name=My Super Cool App
info. app description=A crazy and fun app, yoohoo!
info.app .version=1. 0. 0
```
- localhost:8080/actuator/info
```
{
    "app": {
        "name": "My Super Cool App",
        "description":
        "A crazy and fun app, yoohoo!",
        "version": "1.0.0"
    }
}
```
## Securing Spring Boot Actuator Endpoints
- Spring Boot Actuator provides production-ready endpoints, but by default, some endpoints may be publicly accessible.
- It is important to secure them using authentication and role-based access in a production environment.
- **1. Add Spring Security Dependency**
- Maven:
```
   <dependency>
   <groupId>org.springframework.boot</groupId>
   <artifactId>spring-boot-starter-security</artifactId>
   </dependency>
 ```  
- Gradle:
```
dependencies {
   implementation 'org.springframework.boot:spring-boot-starter-security'
   }
```
- **üîπ 2. Configure Users and Roles**
- In application.properties:
# Define a user with username and password
```
spring.security.user.name=admin
spring.security.user.password=admin123
spring.security.user.roles=ACTUATOR
```
- **üîπ 3. Limit Endpoint Exposure**
- Only expose required endpoints:
```
management.endpoints.web.exposure.include=health,info,metrics
management.endpoints.web.exposure.exclude=env,beans,threaddump
```
- include ‚Üí endpoints accessible
- exclude ‚Üí endpoints hidden
- **üîπ 4. Customize Endpoint Security (Optional, Java Config)**
```
import org.springframework.boot.actuate.autoconfigure.security.servlet.EndpointRequest;
import org.springframework.context.annotation.Bean;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.web.SecurityFilterChain;

@Bean
public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
http
.authorizeHttpRequests((requests) -> requests
.requestMatchers(EndpointRequest.to("health", "info")).permitAll()
.requestMatchers(EndpointRequest.toAnyEndpoint()).hasRole("ACTUATOR")
)
.httpBasic();
return http.build();
}
```
- Allows public access to health and info
- Requires ACTUATOR role for all other endpoints
- **üîπ 5. Accessing Secured Endpoints**
- Use HTTP Basic Authentication in browser or Postman:
```
Username: admin
Password: admin123
```
- Example:
- http://localhost:8080/actuator/metrics
1)	Add Spring Security dependency
2)	Configure users and roles in application.properties
3)	Expose only required endpoints
4)	(Optional) Customize access rules using Java config
5)	Access secured endpoints with HTTP Basic Auth
	
## Run Spring Boot using command line 
-  When running from the command-line
-  No need to have IDE open/ running
-  Since we using Spring Boot, the server is embedded in our JAR file
-  No need to have separate server installed/ running
- Spring Boot apps are self-contained
## Running from the Command-Line
-  Two options for running the app
-  Option 1: Use java -jar
-  Option 2: Use Spring Boot Maven plugin
-  mvnw spring-boot: run
- Option 3: Using SPring Boot Gradle plugin
- ./gradlew clean bootRun

## Injecting Custom Application properties
- Solution: Application Properties file
-  By default, Spring Boot reads information from a standard properties file
-  Located at: src/main/resources/application.properties - Standard Spring Boot file name
-  You can define ANY custom properties in this file
- Your Spring Boot app can access properties using @Value
- No additional coding or configuration required
- Open application.properties
```
coach.name = Sibaprasad
team.name = The Dev Club
```
- Now go to the file path com.swsisolutions.springboot.udemycourse.rest.InjectCustomApplicationProperties;
- See the code

	
	
	